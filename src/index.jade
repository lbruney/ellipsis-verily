doctype html
html
  head
    title Ellipsis Verily
    script(src='assets/js/jquery-1.9.0.js')
    script(src='assets/js/ellipsis-verily.min.js')
    style(type="text/css")
      :stylus
        $light-grey = #eee
        $grey = #ccc
        $dark-grey = #333
        body 
          background-color $light-grey
          color $dark-grey
        a 
          color orange
          text-decoration none
          font-weight bold
          .ellipsis-handler
            border solid 1px $grey
            background-color $light-grey
            padding 5px
            border-radius 3px
        .make-ellipsis, .wrapper, .wrapper2
          width 70%
          margin auto 
          font-family 'Helvetica Neue', Helvetica, Arial, sans-serif
          padding 5%
          border solid 1px $grey
          background-color white
        .crowd
          padding-right 10px
        .display-none
          display none 
        .display-inline, .visible-text
          display inline-block
        .text-center
          text-align center

  body
    -img = "assets/img/wcrowd.jpeg"
    div.wrapper
      h1 Ellipsis Verily
      div(data-js-ellipsis-verily="{'parent':'.wrapper'}").make-ellipsis
        h2 Test Truncation
        p.text-center
          img(src=img, title="crowd", width="200", align="left", class="crowd")
          a(href="https://github.com/lbruney/ellipsis-verily"): span Back to Plugin
        span.
          Suspendisse lectus leo, consectetur in tempor sit amet, placerat quis neque. Etiam luctus porttitor lorem, sed suscipit est rutrum non. Curabitur lobortis nisl a enim congue semper. Aenean commodo ultrices imperdiet. Vestibulum ut justo vel sapien venenatis tincidunt.
        br
        p.
          Vivamus fermentum semper porta. Nunc diam velit, adipiscing ut tristique vitae, sagittis vel odio. Maecenas convallis ullamcorper ultricies. Curabitur ornare, ligula semper consectetur sagittis, nisi diam iaculis velit, id fringilla sem nunc vel mi. Nam dictum, odio nec pretium volutpat, arcu ante placerat erat, non tristique elit urna et turpis. Quisque mi metus, ornare sit amet fermentum et, tincidunt et orci. Fusce eget orci a orci congue vestibulum. 
        p.
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue. Nam tincidunt congue enim, ut porta lorem lacinia consectetur. Donec ut libero sed arcu vehicula ultricies a non tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ut gravida lorem. Ut turpis felis, pulvinar a semper sed, adipiscing id dolor. Pellentesque auctor nisi id magna consequat sagittis. Curabitur dapibus enim sit amet elit pharetra tincidunt feugiat nisl imperdiet. Ut convallis libero in urna ultrices accumsan. Donec sed odio eros. Donec viverra mi quis quam pulvinar at malesuada arcu rhoncus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In rutrum accumsan ultricies. Mauris vitae nisi at sem facilisis semper ac in est.
      p: a(href='#'): strong.ellipsis-handler Read more
    div.wrapper2   
      div(data-js-ellipsis-verily="{'parent':'.wrapper2', 'max': 200}").make-ellipsis
        h2 Test Truncation
        p.text-center
          img(src=img, title="crowd", width="200", align="left", class="crowd")
          a(href="https://github.com/lbruney/ellipsis-verily"): span Back to Plugin
        span.
          Aenean commodo ultrices imperdiet. Vestibulum ut justo vel sapien venenatis tincidunt. Lorem ipsum dolor sit amet.
        ul 
          each k in [1,2,3,4,5,6,7]
            li Aenean commodo ultrices imperdiet. Vestibulum ut justo vel
        span.
          Aenean commodo ultrices imperdiet. Vestibulum ut justo vel sapien venenatis tincidunt. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue. Nam tincidunt congue enim, ut porta lorem lacinia consectetur. Donec ut libero sed arcu vehicula ultricies a non tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ut gravida lorem. Ut turpis felis, pulvinar a semper sed, adipiscing id dolor. Pellentesque auctor nisi id magna consequat sagittis. Curabitur dapibus enim sit amet elit pharetra tincidunt feugiat nisl imperdiet. Ut convallis libero in urna ultrices accumsan. Donec sed odio eros. Donec viverra mi quis quam pulvinar at malesuada arcu rhoncus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In rutrum accumsan ultricies. Mauris vitae nisi at sem facilisis semper ac in est.
      p: a(href='#'): strong.ellipsis-handler Read more
    script(type="text/javascript")
      :coffee
        $(document).ready ->
          $('[data-js-ellipsis-verily]').each ->
            data = $(@).attr('data-js-ellipsis-verily')
            data = data.replace(/\'/g, '"')
            data = JSON.parse(data)
            console.log data
            $(@).EllipsisVerily(data)
          return